#include <cs50.h>
#include <stdio.h>
#include <ctype.h>
#include <string.h>
#include <math.h>

int main(void)

{   // Prompt user for input text
    string text = get_string("Text:\n");

    //find out number of words, sentences, letters in a text
    int letters = 0;

    int sentences = 0;

    int words = 0;

    // Counting the number of letters
    for (int i = 0; text[i]!='\0'; i++ )

            if (isalpha( (unsigned char) text [i] ) )
            {
                letters++;
             }

    // Counting the number of sentences 
    for (int j = 0; j < strlen (text); j++ )

            if (text[j] == '!' || text[j] == '?' || text[j] == '.')
            {
                sentences++;
            }

    // Counting the number of words
   for (int k = 0; text[k]!='\0'; k++ )

            if (isblank( (unsigned char) text [k] ) )
            {
                words++;
            }

    //fixing word count to account for last full stop.
    words = words + 1;
    //calculating Coleman-Liau Index
    float a = letters * 100.00 / words;

    float b = sentences * 100.00 / words;

    float index = 0.0588 * a - 0.296 * b - 15.8;

    int clindex = round(index);
    //output text
    if (clindex >= 16 )
    {
        printf("Number of letters:%i\nNumber of Words:%i\nNumber of Sentences:%i\nColeman-Liau Index:%.2f\nResult: Grade 16+\n", letters, words, sentences, index);
    }
    else if (clindex < 1 )
    {
        printf("Number of letters:%i\nNumber of Words:%i\nNumber of Sentences:%i\nColeman-Liau Index:%.2f\nResult: Before Grade 1\n", letters, words, sentences, index);
    }
    else
    {
        printf("Number of letters:%i\nNumber of Words:%i\nNumber of Sentences:%i\nColeman-Liau Index:%.2f\nResult: Grade %i\n",letters, words, sentences, index, clindex);
    }

}
